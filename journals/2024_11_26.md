- > 读书是学习，使用也是学习，而且是更重要的学习。 常常不是先学好了再干，而是干起来再学习，干就是学习。——毛泽东《中国革命战争的战略问题》
- #think 干起来再学习！在实践中练，这是一个好手段，前提是已经有了最基本的概念，不能像无头苍蝇一样乱转。
	- 按照这个思路去学画画——用尽一切工具去把事情弄出来，再尝试一步一步增加难度，把事情弄好
- 大概以这个感觉去安排练习透视图中的物体的大小，这在50mm焦距上感觉是一个合理的距离
	- ![image.png](../assets/image_1732614659557_0.png){:height 293, :width 545}
- #EE 什么是单片机（Single-Chip Microcomputer）
	- 单片机也叫MCU（Microcontroller Unit），指的是**集成在一个芯片上的微型计算机**，具体来说，它包括CPU、内存（RAM和ROM）、以及**外设**（比如定时器、ADC、UART等），这里虽然叫“外设”，但它其实是包含在芯片内部的。**单片机的型号（例如ATmega328P）是其精确的标识，不同型号的单片机性能和外设资源各不相同。**
	- 注意，上面的**芯片**不是指的开发板（Development Board）——芯片是一个封装好的集成电路，从外界只能看到它的引脚，而开发板包括单片机，电源线路，USB接口，模拟、数字引脚等，**开发板的出现是为了方便用户进行开发和实验，但它并非是单片机本身**。比如，Arduino Uno是基于AVR单片机的开发板，而该单片机是ATmega328P单片机。
	- 一般来说，开发板（包含原理图、PCB布局图、用户手册等）和单片机（包含数据手册datasheet等）都会提供自己的文档，理解这些文档对使用开发板和单片机至关重要。
- #EE 单片机的Hello World——用连接到D12的按钮控制D13上的LED灯的亮灭
	- D13上的连接是容易理解的——直接利用端点的电流去给LED供电，因此D13设置成输出模式，连接是D13-LED-电阻-GND
	- D12上则复杂一些，首先考虑，按钮所在引脚要识别按钮按下状态，而**按下状态必定会由当前电平去表示**，因此按钮所在引脚要设置成**输入模式**去得到当前电平
	- OK，输入模式，这时候第一步想到的是，我直接D12-按钮-VCC不就行了？按钮抬起时，D12是低电平（这里是想当然了），按钮按下时D12和VCC同电势，因此就是高电平了。
	- 但实际上不是这样的，按钮抬起时，即引脚没有连接到任何确定的电压源的时候，这时候称为**悬空引脚（Floating Pin）**，**悬空引脚的电平是不确定的**，其值会被外界干扰，因此不能使用。
	- 如何解决悬空引脚问题？**只需要让引脚和VCC或GND连接起来就可以了**！我直接D12-GND，然后D12-按钮-VCC，这时候我说，按钮抬起时D12是低电平，按钮按下时D12是高电平（再次想当然），这里有两个问题：
		- **倘若直接把引脚和VCC或GND短接，那引脚就将始终是低电平或高电平**
		  logseq.order-list-type:: number
		- 倘若这样连线，按钮按下时VCC和GND会直接短接，这会造成严重后果，可能会烧掉什么东西或闻到糊味儿。
		  logseq.order-list-type:: number
	- 因此，D12不能直接连接GND，D12需要先连接一个电阻，再连接到GND，以避免引脚和VCC/GND短接，同时也避免按下按钮时VCC和GND短接。
	- 这时候又要问了——电阻本身不也会占用电压吗？为啥D12处能正常得到GND的电平？**这是因为单片机的输入引脚的阻抗极大（通常在兆欧级别，但具体需参考datasheet），因此相对于输入引脚，电阻得到的电压微乎其微**。
	- 在这里，这个将D12的**电平拉到GND**的电阻称为**下拉电阻（Pull-down Resistor）**；这里也可以将电路设计成D12-电阻-VCC，这时候将D12的电平**拉到VCC**的电阻称为**上拉电阻（Pull-up Resistor）**。
	- 下拉电阻和上拉电阻的阻值一般在1k欧到10k欧左右，常用的阻值是4.7k欧。如果电路在高噪声环境，阻值需要更小，如果是低功耗应用，需要选择更大的阻值。
	- 最终，连接方式是D13-LED-电阻-GND，D12-下拉电阻-GND，D12-按钮-VCC。按钮抬起时，D12为低电平，按钮按下时，D12为高电平。
	- 注意——**许多单片机会内置上拉电阻**。Arduino中，pinMode有个INPUT_PULLUP，它使用内置的上拉电阻，因此用户不需要再外接物理电阻了。
	- ```c
	  void setup() {
	    pinMode(13, INPUT_PULLUP);
	    pinMode(12, OUTPUT);
	  }
	  
	  void loop() {
	    int x = digitalRead(13);
	    if (x == LOW) {
	      digitalWrite(12, LOW);
	    } else {
	      digitalWrite(12, HIGH);
	    }
	  }
	  ```
- DOING 单片机语音识别开灯
  :LOGBOOK:
  CLOCK: [2024-11-26 Tue 21:41:19]
  CLOCK: [2024-11-26 Tue 21:41:23]
  :END:
- DOING 使用单片机的矩阵键盘做一个钢琴，弹个小星星或春日影
  :LOGBOOK:
  CLOCK: [2024-11-26 Tue 21:45:40]
  CLOCK: [2024-11-26 Tue 21:45:40]
  :END: